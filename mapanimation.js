// This array contains the coordinates for all bus stops between MIT and Harvard
const walkRoute = [
    [-71.094481, 42.360014], 
    [-71.09942164666155, 42.36303111025752],
    [-71.10002609349256, 42.36337109338013],
    [-71.10062152384177, 42.363711072715255],
    [-71.10110869795709, 42.364011051360336],
    [-71.10212816924903, 42.36460433635926],
    [-71.10260633513869, 42.36489097676259],
    [-71.10279579570714, 42.36475098830918],
    [-71.10304841298846, 42.364870976071366],
    [-71.10340929801664, 42.365104285688865],
    [-71.10377018573489, 42.36532426228013],
    [-71.1041400342564, 42.36550422358841],
    [-71.10449188391988, 42.36571087074548],
    [-71.10485275752234, 42.365930848693985],
    [-71.10543016044976, 42.36628414439473],
    [-71.10580006268349, 42.366504119650415],
    [-71.10612486030617, 42.36673072045109],
    [-71.1065037680163, 42.366977359111075],
    [-71.10681050395843, 42.367203998164186],
    [-71.1072886564118, 42.36749062959051],
    [-71.10761344123246, 42.36770393512762],
    [-71.10800138182547, 42.36791057434022],
    [-71.10824498524352, 42.368037182367395],
    [-71.10876824173812, 42.368303818271045],
    [-71.10916519844189, 42.36847046557636],
    [-71.10968846205292, 42.368697103374565],
    [-71.11027488252155, 42.368923739226325],
    [-71.11081622099294, 42.36909035553505],
    [-71.1113484994538, 42.36931699063257],
    [-71.1117905643435, 42.369470302103736],
    [-71.11193491264255, 42.36951029641299],
    [-71.11194393113637, 42.36968359806121],
    [-71.1123950213816, 42.36984357259599],
    [-71.1127296853999, 42.37003656316849],
    [-71.11293451200515, 42.37018789766135],
    [-71.11324554624905, 42.37042891063595],
    [-71.11347313348001, 42.370608268394164],
    [-71.11369313564916, 42.37077641585971],
    [-71.11412555666598, 42.371118314128225],
    [-71.11472488435139, 42.371628355923285],
    [-71.11504351816848, 42.371863758844135],
    [-71.11535456818709, 42.372132790103606],
    [-71.11550630957431, 42.372272872066056],
    [-71.11574148240088, 42.37241859868321],
    [-71.11585527359335, 42.37255871772412],
    [-71.11655321724614, 42.37281654389129],
    [-71.1166755186375, 42.372913749915554],
    [-71.11670770323246, 42.37304056921299],
    [-71.11686863568436, 42.37308416446442],
    [-71.11702420391819, 42.37312379636131],
    [-71.11703493157549, 42.373242689246574],
    [-71.11699201458372, 42.37336950804203],
    [-71.11713064200634, 42.37347101509805],
    [-71.1172368504812, 42.373574701049236],
    [-71.11735064705748, 42.37356909728152],
    [-71.11741892424756, 42.373630748292605],
    [-71.11743409700466, 42.373641957578876],
    [-71.11751754731392, 42.37369520172541],
    [-71.11763513667171, 42.37376245743982],
    [-71.1176616943312, 42.37382971020455],
    [-71.11772617724841, 42.373944604061315],
    [-71.11779445354732, 42.374062300164866],
    [-71.1178475569881, 42.37419680976423],
    [-71.11789307429288, 42.374320110196024],
    [-71.11787031562027, 42.37425845998539],
    [-71.11787790131005, 42.37432571465513],
    [-71.11788548620576, 42.37446302624575],
    [-71.11783996498292, 42.37465358083465],
    [-71.11780961813075, 42.374718033045355],
    [-71.11785892990774, 42.374762869808336],
    [-71.11791582833746, 42.374802102030614]
];

// TODO: add your own access token
mapboxgl.accessToken = 'pk.eyJ1IjoiamVseW5jb3JuZXJzIiwiYSI6ImNsMnAxMWNsZTBiZ2IzbG1qMXV2NXU2OWsifQ.Cj3_QjX3RDfeExSwfRWVpg';

// TODO: create the map object using mapboxgl.map() function
let map = new mapboxgl.Map({
  container: 'map',
  style: 'mapbox://styles/jelyncorners/cl2pa3ny3000615n0dq9s0ff8',
  center: [-71.094481, 42.360014],
  zoom: 14,
});

// TODO: add a marker to the map
let marker = new mapboxgl.Marker().setLngLat([-71.094481, 42.360014]).addTo(map);

// counter here represents the index of the current bus stop
let counter = 0;
function move() {
  // TODO: move the marker on the map every 1000ms. Use the function marker.setLngLat() to update the marker coordinates
  // Use counter to access bus stops in the array busStops

  setTimeout(() => {
    if (counter >= walkRoute.length) return;
    marker.setLngLat(walkRoute[counter]);
    counter++;
    move();
  }, 1000);
}

// Do not edit code past this point
if (typeof module !== 'undefined') {
  module.exports = { move, counter, marker, walkRoute };
}
